[0;34mStarting Minishell Test Suite[0m
[0;34m=============================[0m

[0;34m=== Test 1: absolute path ===[0m
[1;33mCommand: /bin/ls[0m
[1;33mExpected: executes ls[0m
Bash output:
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
Bash exit: 0

Minishell output:
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 2: echo ===[0m
[1;33mCommand: echo -n hello[0m
[1;33mExpected: prints without newline[0m
Bash output:
helloBash exit: 0

Minishell output:
helloMinishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 3: export ===[0m
[1;33mCommand: export var=123[0m
[1;33mExpected: exports variable[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 4: export ===[0m
[1;33mCommand: export var="hello world"[0m
[1;33mExpected: exports variable with spaces[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 6: export invalid ===[0m
[1;33mCommand: export ""[0m
[1;33mExpected: not valid identifier[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 7: unset empty ===[0m
[1;33mCommand: unset ""[0m
[1;33mExpected: does nothing[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 8: export invalid number ===[0m
[1;33mCommand: export 111=222[0m
[1;33mExpected: not valid identifier[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 9: export invalid start ===[0m
[1;33mCommand: export 1abc=123[0m
[1;33mExpected: not valid identifier[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 10: export underscore ===[0m
[1;33mCommand: export _HELLO[0m
[1;33mExpected: does not export[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 11: export valid underscore ===[0m
[1;33mCommand: export _123=hello[0m
[1;33mExpected: exports variable[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 12: PWD/OLDPWD ===[0m
[1;33mCommand: cd /tmp
echo $PWD $OLDPWD[0m
[1;33mExpected: PWD and OLDPWD update[0m
Bash output:
/tmp /home/heartmetal/Desktop/Minishell
Bash exit: 0

Minishell output:
/tmp /home/heartmetal/Desktop/Minishell
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 13: exit status ===[0m
[1;33mCommand: notexistingcommand
echo $?[0m
[1;33mExpected: returns 127[0m
Bash output:
127
Bash exit: 0

Minishell output:
127
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 14: echo with dashes ===[0m
[1;33mCommand: echo - "" "  " hello[0m
[1;33mExpected: echo output[0m
Bash output:
-     hello
Bash exit: 0

Minishell output:
-     hello
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 15: echo single quotes ===[0m
[1;33mCommand: echo '$USER'[0m
[1;33mExpected: literal output[0m
Bash output:
$USER
Bash exit: 0

Minishell output:
$USER
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 16: echo quote mixing ===[0m
[1;33mCommand: echo ""\'$USER\'""[0m
[1;33mExpected: variable expansion[0m
Bash output:
'heartmetal'
Bash exit: 0

Minishell output:
\$USER\
Minishell exit: 0
[0;31m‚úó FAIL[0m
[0;31m  Output differs[0m

[0;34m=== Test 17: echo triple quotes ===[0m
[1;33mCommand: echo """\'$USER\'"""[0m
[1;33mExpected: variable expansion[0m
Bash output:
\'heartmetal\'
Bash exit: 0

Minishell output:
\'$USER\'
Minishell exit: 0
[0;31m‚úó FAIL[0m
[0;31m  Output differs[0m

[0;34m=== Test 18: echo double in single ===[0m
[1;33mCommand: echo '"$USER"'[0m
[1;33mExpected: literal output[0m
Bash output:
"$USER"
Bash exit: 0

Minishell output:
"$USER"
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 19: echo empty quotes ===[0m
[1;33mCommand: echo ''"$USER"''[0m
[1;33mExpected: variable expansion[0m
Bash output:
heartmetal
Bash exit: 0

Minishell output:
heartmetal
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 20: echo triple single ===[0m
[1;33mCommand: echo '''"$USER"'''[0m
[1;33mExpected: literal output[0m
Bash output:
"$USER"
Bash exit: 0

Minishell output:
"$USER"
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 21: echo variable ===[0m
[1;33mCommand: echo $USER[0m
[1;33mExpected: variable expansion[0m
Bash output:
heartmetal
Bash exit: 0

Minishell output:
heartmetal
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 22: echo quoted variable ===[0m
[1;33mCommand: echo '$USER'[0m
[1;33mExpected: literal $USER[0m
Bash output:
$USER
Bash exit: 0

Minishell output:
$USER
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 23: echo partial expansion ===[0m
[1;33mCommand: echo $HO"ME"[0m
[1;33mExpected: partial expansion[0m
Bash output:
ME
Bash exit: 0

Minishell output:
ME
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 24: echo dollar quote ===[0m
[1;33mCommand: echo $'HOME'[0m
[1;33mExpected: literal HOME[0m
Bash output:
HOME
Bash exit: 0

Minishell output:
HOME
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 25: echo HOME ===[0m
[1;33mCommand: echo "$HOME"[0m
[1;33mExpected: home directory[0m
Bash output:
/home/heartmetal
Bash exit: 0

Minishell output:
/home/heartmetal
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 26: echo empty ===[0m
[1;33mCommand: echo ""[0m
[1;33mExpected: empty line[0m
Bash output:

Bash exit: 0

Minishell output:

Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 28: unset critical vars ===[0m
[1;33mCommand: unset USER
unset PATH
unset PWD
/bin/ls[0m
[1;33mExpected: /bin/ls works[0m
Bash output:
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
Bash exit: 0

Minishell output:
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 29: unset PATH ===[0m
[1;33mCommand: ls
unset PATH
ls[0m
[1;33mExpected: ls fails after unset[0m
Bash output:
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
Bash exit: 127

Minishell output:
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
Minishell exit: 127
[0;32m‚úì PASS[0m

[0;34m=== Test 30: cd home ===[0m
[1;33mCommand: cd[0m
[1;33mExpected: goes to home[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 31: cd nonexistent ===[0m
[1;33mCommand: cd notexistingdirectory
echo $?[0m
[1;33mExpected: returns 1[0m
Bash output:
1
Bash exit: 0

Minishell output:
1
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 34: command not found with redir ===[0m
[1;33mCommand: notacommand one > two[0m
[1;33mExpected: command not found[0m
Bash output:
Bash exit: 127

Minishell output:
Minishell exit: 127
[0;32m‚úì PASS[0m

[0;34m=== Test 35: exit large number ===[0m
[1;33mCommand: exit 999999[0m
[1;33mExpected: exit 63[0m
Bash output:
Bash exit: 63

Minishell output:
Minishell exit: 63
[0;32m‚úì PASS[0m

[0;34m=== Test 36: exit negative large ===[0m
[1;33mCommand: exit -999999[0m
[1;33mExpected: exit 193[0m
Bash output:
Bash exit: 193

Minishell output:
Minishell exit: 193
[0;32m‚úì PASS[0m

[0;34m=== Test 37: exit -1 ===[0m
[1;33mCommand: exit -1[0m
[1;33mExpected: exit 255[0m
Bash output:
Bash exit: 255

Minishell output:
Minishell exit: 255
[0;32m‚úì PASS[0m

[0;34m=== Test 38: exit non-numeric ===[0m
[1;33mCommand: exit abc[0m
[1;33mExpected: numeric argument required[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 39: exit too many args ===[0m
[1;33mCommand: exit 1 2 3 a[0m
[1;33mExpected: too many arguments[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 40: multiple input redirections ===[0m
[1;33mCommand: < a cat < b < c[0m
[1;33mExpected: displays content of c[0m
Bash output:
c
Bash exit: 0

Minishell output:
c
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 41: nonexistent file redirect ===[0m
[1;33mCommand: < a cat < notexisting < b[0m
[1;33mExpected: no such file or directory[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 41.1: multiple nonexistent ===[0m
[1;33mCommand: < notexisting1 < notexisting2 < notexisting3[0m
[1;33mExpected: no such file[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 42: output redirections ===[0m
[1;33mCommand: > a echo salut >> b[0m
[1;33mExpected: creates files[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 42.1: empty redirections ===[0m
[1;33mCommand: > one >> two[0m
[1;33mExpected: creates empty files[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 43: pipe with input redir ===[0m
[1;33mCommand: cat < testfile | ls[0m
[1;33mExpected: executes ls only[0m
Bash output:
a
b
c
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
one
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
two
Bash exit: 0

Minishell output:
a
b
c
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
one
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
two
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 43.1: pipe with nonexistent ===[0m
[1;33mCommand: cat < notexisting | ls[0m
[1;33mExpected: error but ls executes[0m
Bash output:
a
b
c
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
one
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
two
Bash exit: 0

Minishell output:
a
b
c
documentation
execution
failed_tests.txt
heartmetal
includes
libft
Makefile
minishell
minishell.md
minishell.pdf
minishell_tester
norme.fr.pdf
norme.md
objs
one
parsing
src
srcs
testfile
test_output.txt
test_results.txt
test.sh
test_valgrind.sh
todo_tests.txt
two
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 45: input from nonexistent ===[0m
[1;33mCommand: < file[0m
[1;33mExpected: no such file[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 46: output redirect only ===[0m
[1;33mCommand: > file[0m
[1;33mExpected: creates empty file[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 47: append redirect only ===[0m
[1;33mCommand: >> file[0m
[1;33mExpected: creates empty file[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 48: pipe only ===[0m
[1;33mCommand: |[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 49: double pipe ===[0m
[1;33mCommand: ||[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 50: pipe dollar ===[0m
[1;33mCommand: |$[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 51: pipe with command ===[0m
[1;33mCommand: | echo hi[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 52: input redirect only ===[0m
[1;33mCommand: <[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 53: output redirect only ===[0m
[1;33mCommand: >[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 54: triple output ===[0m
[1;33mCommand: >>>[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 55: triple input ===[0m
[1;33mCommand: <<<[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 56: complex syntax error ===[0m
[1;33mCommand: echo hi | < |[0m
[1;33mExpected: syntax error[0m
Bash output:
Bash exit: 2

Minishell output:
Minishell exit: 2
[0;32m‚úì PASS[0m

[0;34m=== Test 57: quoted pipe ===[0m
[1;33mCommand: echo hi | "|"[0m
[1;33mExpected: command not found[0m
Bash output:
Bash exit: 127

Minishell output:
Minishell exit: 127
[0;32m‚úì PASS[0m

[0;34m=== Test 58: cat nonexistent ===[0m
[1;33mCommand: cat notexistingfile[0m
[1;33mExpected: no such file[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test 59: cat existing ===[0m
[1;33mCommand: cat testfile[0m
[1;33mExpected: file content[0m
Bash output:
hello world
Bash exit: 0

Minishell output:
hello world
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 60: multiple export ===[0m
[1;33mCommand: export a=1 b=2 c=3[0m
[1;33mExpected: exports multiple[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test 61: multiple unset ===[0m
[1;33mCommand: unset a b c[0m
[1;33mExpected: unsets multiple[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34mEXTRA TESTS[0m
[0;34m============[0m

[0;34m=== Test E1: grep with redirect ===[0m
[1;33mCommand: grep hellomisterman <./srcs/tokens/valid.c[0m
[1;33mExpected: nothing found[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test E2: grep with redirect ===[0m
[1;33mCommand: grep token <./srcs/tokens/lexer.c[0m
[1;33mExpected: token occurrences[0m
Bash output:
token appears here
Bash exit: 0

Minishell output:
token appears here
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test E4: redirect with undefined var ===[0m
[1;33mCommand: echo a > $NOT_A_VAR[0m
[1;33mExpected: ambiguous redirect[0m
Bash output:
Bash exit: 1

Minishell output:
Minishell exit: 1
[0;32m‚úì PASS[0m

[0;34m=== Test E5: redirect with user var ===[0m
[1;33mCommand: echo a > $USER[0m
[1;33mExpected: writes to user file[0m
Bash output:
Bash exit: 0

Minishell output:
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m=== Test E7: echo assignment ===[0m
[1;33mCommand: echo abc=hello[0m
[1;33mExpected: prints literal[0m
Bash output:
abc=hello
Bash exit: 0

Minishell output:
abc=hello
Minishell exit: 0
[0;32m‚úì PASS[0m

[0;34m================================[0m
[0;34m         TEST SUMMARY           [0m
[0;34m================================[0m
Total tests: 64
[0;32mPassed: 62[0m
[0;31mFailed: 2[0m
[0;31m‚ùå Some tests failed[0m
